# 自定义配方参考 (JSON)

本指南介绍了拆解台 (`ssccore:deconstruction`) 的所有配方定义方式。

---

### 📖 快速导航
*   [通用属性](#通用属性)
*   [模式 A：手动模式 (Manual)](#模式-a手动模式)
*   [模式 B：派生模式 (Derived)](#模式-b派生模式)
*   [核心机制：批处理](#核心机制批处理)

---

## 通用属性
无论使用哪种定义模式，以下可选字段均可用于微调机器表现。

| 属性 | 类型 | 默认值 | 说明 |
| :--- | :--- | :--- | :--- |
| `time` | 整数 | `5` | **处理时长 (ticks)**：正常情况下的分解耗时。 |
| `energy` | 整数 | `100` | **加速成本 (FE)**：若电量充足，消耗此能量可使分解在 **1 tick** 内完成。 |
| `config` | 整数 | `0` | **配置索引**：需与机器 GUI 中的数字一致配方才生效。 |

---

## 模式 A：手动模式
允许完全自定义特定的输入与对应的多个产出。

### 属性列表
| 属性 | 类型 | 必须 | 说明 |
| :--- | :--- | :--- | :--- |
| `input` | 对象 | 是 | 输入物品或标签 (Ingredient)。 |
| `outputs` | 数组 | 是 | 分解产出的物品列表 (ItemStack)。 |

### 示例
```json
{
  "type": "ssccore:deconstruction",
  "input": { "item": "minecraft:diamond_pickaxe" },
  "outputs": [
    { "count": 3, "id": "minecraft:diamond" },
    { "count": 2, "id": "minecraft:stick" }
  ],
  "time": 20,
  "energy": 2000
}
```

---

## 模式 B：派生模式
本模组的核心特色：通过引用现有的“合成”或“熔炼”配方，自动将其反转。产出变为原料，输入变为成品。

### `recipe` 对象属性
| 属性 | 类型 | 说明 |
| :--- | :--- | :--- |
| `id` | 字符串 | **精确引用**：直接指定目标配方的 ID (如 `minecraft:oak_planks`)。 |
| `output` | 字符串 | **模糊匹配**：自动寻找产出为该物品的配方。 |
| `type` | 字符串 | **类型过滤**：配合 `output` 使用，限定配方类型。 |
| `outputs` | 数组 | **额外产出**：在反转得到的原料基础上，强制增加的额外产出。 |

### 示例 (通过 ID 反转)
```json
{
  "type": "ssccore:deconstruction",
  "recipe": {
    "id": "minecraft:golden_apple",
    "outputs": [
      { "count": 1, "id": "minecraft:apple" } 
    ]
  }
}
```

---

## 核心机制：批处理
1.  **自动打包**：机器会自动扫描输入槽，计算空间并一次性处理最多 64 个物品。
2.  **固定成本**：一个批次无论包含 1 个还是 64 个物品，其消耗的能量和时间成本均保持不变。
3.  **瞬间完成**：若机器存储的 FE 足以支付该批次的 `energy` 成本，处理将在 **1 Tick** 内瞬间完成。
